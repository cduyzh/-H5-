var refresher={info:{pullUpLable:"上拉加载更多",pullingUpLable:"释放加载更多",loadingLable:"加载中..."},init:function(t){var e=document.getElementById(t.id),l=document.createElement("div");l.className="scroller",e.appendChild(l);var a=e.querySelector(".scroller"),r=e.querySelector("#"+t.id+" ul");a.insertBefore(r,a.childNodes[0]);var n=document.createElement("div");n.className="pullDown";var o=document.createElement("div");o.className="pullDownIcon",n.appendChild(o);var c=document.createElement("div");c.className="pullDownLabel",n.appendChild(c),a.insertBefore(n,a.childNodes[0]);var p=document.createElement("div");p.className="pullUp";var o=document.createElement("div");o.className="pullUpIcon",p.appendChild(o);var s=document.createElement("div");s.className="pullUpLabel";var i=document.createTextNode(refresher.info.pullUpLable);s.appendChild(i),p.appendChild(s),a.appendChild(p);var u=e.querySelector(".pullDown"),d=u.offsetHeight,m=e.querySelector(".pullUp"),f=m.offsetHeight;this.scrollIt(t,u,d,m,f)},scrollIt:function(parameter,pullDownEle,pullDownOffset,pullUpEle,pullUpOffset){eval(parameter.id+"= new iScroll(\t\t\t\t\t\t\t\t\tparameter.id,\t\t\t\t\t\t\t\t\t {\t\t\t\t\t\t\t\t\t\t useTransition: true,\t\t\t\t\t\t\t\t\t\t vScrollbar: false,\t\t\t\t\t\t\t\t\t\t topOffset: pullDownOffset,\t\t\t\t\t\t\t\t\t\t onRefresh: function () {\t\t\t\t\t\t\t\t\t\t\t\t\t\t  refresher.onRelease(pullDownEle,pullUpEle);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t },\t\t\t\t\t\t\t\t\t\tonScrollMove: function () {\t\t\t\t\t\t\t\t\t\t\t\t\t\t     refresher.onScrolling(this,pullDownEle,pullUpEle,pullUpOffset);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\t\t\t\t\t\t\t\t\t\tonScrollEnd: function () {\t\t\t\t\t\t\t\t\t\t\t\t\t       refresher.onScrollEnd(pullDownEle,parameter.pullDownAction,pullUpEle,parameter.pullUpAction);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t})")},onScrolling:function(t,e,l,a){(t.scrollerH<t.wrapperH&&t.y>t.maxScrollY-a&&l.className.match("flip")||t.scrollerH>t.wrapperH&&t.y>t.maxScrollY-a&&l.className.match("flip"))&&(l.classList.remove("flip"),l.querySelector(".pullUpLabel").innerHTML=refresher.info.pullUpLable),(t.scrollerH<t.wrapperH&&t.y<t.minScrollY-a&&!e.className.match("loading")&&!l.className.match("loading")||t.scrollerH>t.wrapperH&&t.y<t.maxScrollY-a&&!e.className.match("loading")&&!l.className.match("loading"))&&(l.classList.add("flip"),l.querySelector(".pullUpLabel").innerHTML=refresher.info.pullingUpLable)},onRelease:function(t,e){e.className.match("loading")&&(e.classList.toggle("loading"),e.querySelector(".pullUpLabel").innerHTML=refresher.info.pullUpLable)},onScrollEnd:function(t,e,l,a){l.className.match("flip")&&!l.className.match("loading")&&(l.classList.add("loading"),l.classList.remove("flip"),l.querySelector(".pullUpLabel").innerHTML=refresher.info.loadingLable,a&&a())}};